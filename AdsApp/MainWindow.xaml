<Window x:Class="AdsApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Сервис объявлений" Height="600" Width="900">
    <DockPanel Margin="10">

        <!-- Шапка + панель фильтров -->
        <!-- WrapPanel, чтобы элементы переносились на вторую строку при узком окне -->
        <WrapPanel DockPanel.Dock="Top" Margin="0,0,0,10" VerticalAlignment="Top">

            <!-- ЛОГО -->
            <Image Source="pack://application:,,,/Resources/Лого.png"
                   Height="40"
                   Margin="0,0,16,0"
                   VerticalAlignment="Center"/>

            <!-- Заголовок приложения -->
            <TextBlock Text="Сервис объявлений"
                       VerticalAlignment="Center"
                       FontSize="20"
                       FontWeight="Bold"
                       Margin="0,0,32,0"/>

            <!-- Поиск -->
            <TextBlock Text="Поиск:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox x:Name="SearchTextBox"
                     Width="200"
                     VerticalAlignment="Center"
                     ToolTip="Введите ключевые слова для поиска" />

            <!-- Город -->
            <TextBlock Text="Город:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <ComboBox x:Name="CityComboBox"
                      Width="140"
                      DisplayMemberPath="Name"
                      SelectedValuePath="CityId"
                      VerticalAlignment="Center"
                      ToolTip="Фильтр по городу" />

            <!-- Категория -->
            <TextBlock Text="Категория:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <ComboBox x:Name="CategoryComboBox"
                      Width="140"
                      DisplayMemberPath="Name"
                      SelectedValuePath="CategoryId"
                      VerticalAlignment="Center"
                      ToolTip="Фильтр по категории" />

            <!-- Тип -->
            <TextBlock Text="Тип объявления:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <ComboBox x:Name="TypeComboBox"
                      Width="140"
                      DisplayMemberPath="Name"
                      SelectedValuePath="AdTypeId"
                      VerticalAlignment="Center"
                      ToolTip="Фильтр по типу объявления" />

            <!-- Статус -->
            <TextBlock Text="Статус:" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <ComboBox x:Name="StatusComboBox"
                      Width="140"
                      DisplayMemberPath="Name"
                      SelectedValuePath="StatusId"
                      VerticalAlignment="Center"
                      ToolTip="Фильтр по статусу" />

            <!-- Кнопки -->
            <Button Content="Применить"
                    Width="90"
                    Click="ApplyFilters_Click" />

            <Button x:Name="LoginButton"
                    Content="Войти"
                    Width="80"
                    Click="LoginButton_Click" />

            <Button x:Name="MyAdsButton"
                    Content="Мои объявления"
                    Width="120"
                    Click="MyAdsButton_Click"
                    Visibility="Collapsed" />

            <Button x:Name="ReportButton"
                    Content="Отчёт по прибыли"
                    Width="130"
                    Click="ReportButton_Click" />
        </WrapPanel>

        <!-- Список объявлений -->
        <ListView x:Name="AdsListView">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Border Margin="0,0,0,16"
                            Padding="10"
                            BorderBrush="#FFCCCCCC"
                            BorderThickness="1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Image Width="100" Height="100" Stretch="UniformToFill"
                                   Source="{Binding ImagePath}" />

                            <StackPanel Grid.Column="1" Margin="10,0,0,0">
                                <TextBlock Text="{Binding Title}"
                                           FontWeight="Bold"
                                           FontSize="14" />
                                <TextBlock Text="{Binding Description}"
                                           TextWrapping="Wrap"
                                           MaxHeight="60"
                                           Foreground="{StaticResource SecondaryTextBrush}"/>
                                <TextBlock Text="{Binding Price, StringFormat='Цена: {0} ₽'}" />
                                <TextBlock Text="{Binding City.Name}" />
                                <TextBlock Text="{Binding AdType.Name}" />
                                <TextBlock Text="{Binding AdStatus.Name}" />
                            </StackPanel>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </DockPanel>
</Window>
